<html>
<head>
<style type="text/css">
div.container {
  width: 140px;
  height: 150px;
  border: solid 1px black;
  float: left;
}

div.container > div {
  width: 30px;
  height: 30px;
  margin: 5px;
  background-color: green;
  -webkit-transform: translateZ(0px);
}

@-webkit-keyframes fade {
  from { opacity: 0.5; }
  to   { opacity: 1; }
}
#result {
  color: white;
}
</style>
</head>
<body>
<!-- Success if:
  * layout test runner finishes the test and doesn't hang
  * the resulting picture is as described below in the html comments
 -->

<!-- end green -->
<div class="container">
<div style="-webkit-animation: fade 0.2s linear"></div>
<div style="-webkit-animation: fade 0.2s linear backwards"></div>
<div style="-webkit-animation: fade 0.2s linear 0s 2 alternate backwards"></div>
</div>

<!-- end light green -->
<div class="container">
<div style="-webkit-animation: fade 0.2s linear 0s 2 alternate forwards"></div>
<div style="-webkit-animation: fade 0.2s linear 0s 2 alternate both"></div>
</div>

<!-- end green -->
<div class="container">
<div style="-webkit-animation: fade 0.2s linear forwards"></div>
<div style="-webkit-animation: fade 0.2s linear 0s 3 alternate forwards"></div>
<div style="-webkit-animation: fade 0.2s linear both"></div>
<div style="-webkit-animation: fade 0.2s linear 0s 3 alternate both"></div>
</div>

<pre id="result"></pre>
<script type="text/javascript">
if (window.layoutTestController) {
    layoutTestController.dumpAsText(true);
    layoutTestController.waitUntilDone();
}
//FIXME: android layoutTestController doesn't support animation callbacks.
window.setTimeout(function() {
document.getElementById("result").innerHTML = "DONE.";
    if (window.layoutTestController)
        layoutTestController.notifyDone();
}, 500);

</script>
</body>
